<!doctype html>
<html>
    <head>
        <title>Yandex Map</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="http://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
        <meta name="viewport" content="width=device-width, height=device-height, user-scalable=no" />
        <script type="text/javascript">
                ymaps.ready(init);
                function init()
                {
                    var myMap = new ymaps.Map("map", {
                        center: [59.936428, 30.289019],
                        zoom: 10,
                        controls: [],
                    }, {
                        searchControlProvider: 'yandex#search'
                    });
                    ymaps.geolocation.get({mapStateAutoApply: true}).then(function (result) {
                        myMap.geoObjects.add(result.geoObjects);
                    });
                    myMap.controls.add('routeButtonControl');
                    var geoloc = new ymaps.control.GeolocationControl();
                    geoloc.events.add('locationchange', function (event)
                    {
                        var position = event.get('position'),
                        locationPlacemark = new ymaps.Placemark(position);
                        myMap.geoObjects.add(locationPlacemark);
                        myMap.panTo(position);
                    });
                    myMap.controls.add('geolocationControl');
                }
            </script>
        <style>
                html, body, #map {
                    width: 100%;
                    height: 100%;
                    margin: 0;
                    padding: 0;
                }
                #map {
                    background-color: black;
                }
            </style>
    </head>
    <body>
        <div id="map">

        </div>
    </body>
</html>
